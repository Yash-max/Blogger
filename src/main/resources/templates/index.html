<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
	 xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head>
   <!-- basic -->
   <meta charset="utf-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <!-- mobile metas -->
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <meta name="viewport" content="initial-scale=1, maximum-scale=1">
   <!-- site metas -->
   <title>Static Blog Application</title>
   <meta name="keywords" content="">
   <meta name="description" content="">
   <meta name="author" content="">
   <base href="/">
   <!-- bootstrap css -->
   <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
   <!-- style css -->
   <link rel="stylesheet" th:href="@{/css/style.css}">
   <!-- Responsive-->
   <link rel="stylesheet" th:href="@{/css/responsive.css}">
   <!-- fevicon -->
   <link rel="icon" th:href="@{/images/fevicon.png}" type="image/gif" />
   <!-- Scrollbar Custom CSS -->
   <link rel="stylesheet" th:href="@{/css/jquery.mCustomScrollbar.min.css}">
   <!-- Tweaks for older IEs-->
   <link rel="stylesheet" th:href="@{/css/font-awesome.css}">
   <link rel="stylesheet" th:href="@{/css/jquery.fancybox.min.css}" media="screen">
   <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script><![endif]-->
</head>
<!-- body -->

<body class="main-layout">
   <!-- loader  -->
   <div class="loader_bg">
      <div class="loader"><img th:src="@{/images/loading.gif}" alt="#" /></div>
   </div>
   <!-- end loader -->
   <!-- header -->
   <header>
      <!-- header inner -->
      <div class="head_top">
         <div class="header">
            <div class="container-fluid">
               <div class="row">
                  <div class="col-xl-3 col-lg-3 col-md-3 col-sm-3 col logo_section">
                     <div class="full">
                        <div class="center-desk">
                           <div class="logo">
                              <a th:href="@{/}"><img th:src="@{/images/logo.png}" alt="#" /></a>
                           </div>
                        </div>
                     </div>
                  </div>
                  <div class="col-xl-9 col-lg-9 col-md-9 col-sm-9">
                     <nav class="navigation navbar navbar-expand-md navbar-dark ">
                        <button class="navbar-toggler" type="button" data-toggle="collapse"
                           data-target="#navbarsExample04" aria-controls="navbarsExample04" aria-expanded="false"
                           aria-label="Toggle navigation">
                           <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarsExample04">
                           <ul class="navbar-nav mr-auto">
                              <li class="nav-item">
                                 <a class="nav-link" th:href="@{/}"> Home </a>
                              </li>
                              <li class="nav-item">
                                 <a class="nav-link" th:href="@{/addBlog}"> Add Blog </a>
                              </li>
                              <li class="nav-item">
                                 <a class="nav-link" th:href="@{/about}">About</a>
                              </li>
                              <li class="nav-item">
                                 <a class="nav-link" th:href="@{/contact}">Contact</a>
                              </li>
                              <li class="nav-item">
                                 <a class="nav-link" th:href="@{/logout}" sec:authorize="isAuthenticated()">Logout</a>
                              </li>
                              <li sec:authorize="isAuthenticated()">
							    Welcome <b><span sec:authentication="name">Username</span></b>
							    &nbsp;
							    <i><span sec:authentication="principal.authorities">Roles</span></i>
							</li>
							<li class="nav-item" sec:authorize="!isAuthenticated()">
                                 <a class="nav-link" th:href="@{/register}"> Register </a>
                            </li>
							<li class="nav-item" sec:authorize="!isAuthenticated()">
                                 <a class="nav-link" th:href="@{/login}"> Login </a>
                            </li>
                           </ul>
                        </div>
                     </nav>
                  </div>
               </div>
            </div>
         </div>
         <!-- end header inner -->
         <!-- end header -->
         <!-- banner -->
         <section class="banner_main">
            <div class="container">
               <div class="row d_flex">
                  <div class=" col-xl-8 col-lg-8 col-md-8 col-12-9">
                     <div class="text-bg">
                        <h1>Blog<br> <span class="white1">Landing Page 2022</span></h1>
                        <p>It is a long established fact that a reader will be distracted by the readable content of a
                           page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less
                           normal distribution of letters,</p>
                     </div>
                  </div>
                  <div class="col-xl-4 col-lg-4 col-md-4 col-12-3">
                     <div class="text-img">
                        <figure><img th:src="@{/images/box_img.png}" alt="#" /></figure>
                     </div>
                  </div>
               </div>
            </div>
         </section>
      </div>
   </header>
   <!-- end banner -->
   <!-- blog_main -->
   <div class="blog_main">
      <div class="container">
         <div class="row">
            <div class="col-md-12">
               <div class="titlepage">
                  <h2>Our Blogs</h2>
                  <span>It is a long established fact that a reader will be distracted by the readable content of a page
                  </span>
               </div>
            </div>
         </div>

         <tr th:each="blog: ${blogs}">
            <div class="row">
               <div class="col-md-12">
                  <div class="our_two_box">
                     <div class="row d_flex">

                        <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                           <div class="our_img">
                              <figure><img th:src="@{'data:image/jpg/png/gif/jpeg;base64,' + ${blog.imageFile}}"
                                    alt="#" />
                              </figure>
                           </div>
                        </div>
                        <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                           <div class="our_text_box">
                              <h3 class="awesome pa_wi"><a th:href="@{'/blog/' + ${blog.id}}">[[${blog.title}]]</a></h3>
                              <p class="overflowHandler">[[${blog.content}]] </p>
                              <div class="post_box padding_bottom1">
                                 <h4 class="flot_left1">Post By : <a
                                       th:href="@{'/author/' + ${blog.writer.id}}">[[${blog.writer.name}]]</a>
                                    &nbsp;&nbsp;
                                    on &nbsp;&nbsp; [[${blog.date}]]
                                 </h4>
                                 <ul class="like">
                                 	<li><a th:href="@{'/editblog/' + ${blog.id} }" th:if="${(authName!=null) && ( (authName == blog.writer.name) OR (authRole == 'ADMIN') ) }">Edit</a></li>
                                 	<li>&nbsp;&nbsp;</li>
                                 	<li><a th:href="@{'/deleteblog/' + ${blog.id}}" th:if="${(authName!=null) && ( (authName == blog.writer.name) OR (authRole == 'ADMIN') ) }">Delete</a></li>
                                    <li><a th:href="@{#}"><img th:src="@{/images/like.png}" alt="#" />Like</a></li>
                                    <li><a th:href="@{#}"><img th:src="@{/images/comm.png}" alt="#" />Comment</a></li>
                                 </ul>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </tr>

      </div>
   </div>
   <!-- end blog_main -->

   <!-- Testing -->
   <nav aria-label="Page navigation example">
      <span class="pagination justify-content-center">
         <li class="page-item">
            <a class=" page-link" th:href="@{'/page/' + ${currentPage-1}}" th:if="${currentPage > 1}">Previous</a>
            <span class="page-link" th:unless="${currentPage > 1}">Previous</span>
         </li>
         <li class="page-item" th:each="i: ${#numbers.sequence(1, totalPages)}">
            <a class=" page-link" th:href="@{'/page/' + ${i}}" th:if="${i != currentPage}">[[${i}]]</a>
            <span class="page-link" th:unless="${i != currentPage}">[[${i}]]</span>
         </li>
         <li class="page-item">
            <a class=" page-link" th:href="@{'/page/' + ${currentPage+1}}" th:if="${currentPage < totalPages}">Next</a>
            <span class="page-link" th:unless="${currentPage < totalPages}">Next</span>
         </li>
      </span>
   </nav>


   <!--  footer -->
   <footer>
      <div class="footer">
         <div class="container">
            <div class="row">
               <div class="col-md-12 ">
                  <div class="cont">
                     <h3> <strong class="multi"> Static Blog Application</strong><br>
                        Landing Page 2022
                     </h3>
                  </div>
               </div>
               <div class="col-md-12">
                  <ul class="social_icon">
                     <li><a th:href="@{#}"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
                     <li><a th:href="@{#}"><i class="fa fa-twitter" aria-hidden="true"></i></i></a></li>
                     <li><a th:href="@{#}"><i class="fa fa-linkedin" aria-hidden="true"></i></i></a></li>
                  </ul>
               </div>
            </div>
         </div>
         <div class="copyright">
            <div class="container">
               <div class="row">
                  <div class="col-md-12">
                     <p>© 2022 All Rights Reserved. Design by <a th:href="@{/about}"> Yash Khandelwal</a></p>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </footer>
   <!-- end footer -->
   <!-- Javascript files-->
   <script th:src="@{/js/jquery.min.js}"></script>
   <script th:src="@{/js/popper.min.js}"></script>
   <script th:src="@{/js/bootstrap.bundle.min.js}"></script>
   <script th:src="@{/js/jquery-3.0.0.min.js}"></script>

   <!-- sidebar -->
   <script th:src="@{/js/jquery.mCustomScrollbar.concat.min.js}"></script>
   <script th:src="@{/js/custom.js}"></script>
   <script th:src="@{/js/jquery.fancybox.min.js}"></script>
</body>

</html>